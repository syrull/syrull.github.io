<!doctype html><html lang=en-us data-theme=dark><head><meta charset=utf-8><meta name=HandheldFriendly content="True"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer-when-downgrade"><title>Simple Fishing Bot for World of Warcraft - archive://syrull</title><meta name=description content="This fishing bot consists only of about 50 lines of code, it incorporates the mechanics of World of Warcraft and some simple Windows API Calls.
Repository: https://github.com/syrull/simple-fishing-bot
Overview The bot has about ~99% success rate, there are some extremely rare cases where the bot won&rsquo;t catch it and I will explain why later. The method that the bot is using, should work in almost any fishing scenario in the game, I would personally avoid crowded places."><link rel=icon type=image/x-icon href=http://sy1.sh/favicon.ico><link rel=apple-touch-icon-precomposed href=http://sy1.sh/favicon.png><style>body{visibility:hidden;opacity:0}</style><noscript><style>body{visibility:visible;opacity:1}</style></noscript><link rel=stylesheet href=http://sy1.sh/css/style.min.7b484c18b5aa36260a07e6a3b45241486b220324ddf54305ab4258bf32342527.css integrity="sha256-e0hMGLWqNiYKB+ajtFJBSGsiAyTd9UMFq0JYvzI0JSc="><script src=http://sy1.sh/js/script.min.74bf1a3fcf1af396efa4acf3e660e876b61a2153ab9cbe1893ac24ea6d4f94ee.js type=text/javascript integrity="sha256-dL8aP88a85bvpKzz5mDodrYaIVOrnL4Yk6wk6m1PlO4="></script><meta property="og:title" content="Simple Fishing Bot for World of Warcraft"><meta property="og:description" content="This fishing bot consists only of about 50 lines of code, it incorporates the mechanics of World of Warcraft and some simple Windows API Calls.
Repository: https://github.com/syrull/simple-fishing-bot
Overview The bot has about ~99% success rate, there are some extremely rare cases where the bot won&rsquo;t catch it and I will explain why later. The method that the bot is using, should work in almost any fishing scenario in the game, I would personally avoid crowded places."><meta property="og:type" content="article"><meta property="og:url" content="http://sy1.sh/posts/simple-fishing-bot/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-22T21:37:03+03:00"><meta property="article:modified_time" content="2022-05-22T21:37:03+03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Simple Fishing Bot for World of Warcraft"><meta name=twitter:description content="This fishing bot consists only of about 50 lines of code, it incorporates the mechanics of World of Warcraft and some simple Windows API Calls.
Repository: https://github.com/syrull/simple-fishing-bot
Overview The bot has about ~99% success rate, there are some extremely rare cases where the bot won&rsquo;t catch it and I will explain why later. The method that the bot is using, should work in almost any fishing scenario in the game, I would personally avoid crowded places."></head><body><a class=skip-main href=#main>Skip to main content</a><div class=container><header class=common-header><div class=header-top><h1 class=site-title><a href=/>archive://syrull</a></h1><ul class=social-icons><li><a href=https://github.com/syrull title=Github rel=me><span class=inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></a></li><li><a href=mailto:dganev@pm.me title=Email rel=me><span class=inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M464 64H48C21.49 64 0 85.49.0 112v288c0 26.51 21.49 48 48 48h416c26.51.0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 4e2V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V4e2H48z"/></svg></span></a></li><li><a href="tg://resolve?domain=pwnm3rcury" title=Telegram rel=me><span class=inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentcolor" d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"/></svg></span></a></li><li><a href=http://sy1.sh/index.xml title=RSS rel=me><span class=inline-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentcolor" d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328.0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765.0 183.105.0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686.0 38.981.0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z"/></svg></span></a></li></ul></div><nav><a href=http://sy1.sh/posts/ title=Archive>Archive</a>
<a href=http://sy1.sh/cv title=CV>CV</a></nav></header><main id=main tabindex=-1><article class="post h-entry"><div class=post-header><header><h1 class="p-name post-title">Simple Fishing Bot for World of Warcraft</h1></header></div><div class="content e-content"><p>This fishing bot consists only of about 50 lines of code, it incorporates the mechanics of World of Warcraft and some simple Windows API Calls.</p><p><img src=/fishing-bot/fishing.gif alt="Fishing Bot in action"></p><p>Repository: <a href=https://github.com/syrull/simple-fishing-bot>https://github.com/syrull/simple-fishing-bot</a></p><h2 id=overview>Overview
<span><a href=#overview><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><p>The bot has about ~99% success rate, there are some extremely rare cases where the bot won&rsquo;t catch it and I will explain why later. The method that the bot is using, should
work in almost any fishing scenario in the game, I would personally avoid crowded places. The testing has been done in the current expansion (Shadowlands).</p><p>The bot is running on the currently Active Window, I haven&rsquo;t performed checks wether this is the window of the game or not. It waits for about 2 seconds before it starts.</p><h3 id=metrics>Metrics
<span><a href=#metrics><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><pre tabindex=0><code>Zereth Mortis: 29m 33s
Items Looted: 161
</code></pre><p>That means that we loot roughly about ~5.4 fish per minute.</p><h2 id=installation--usage>Installation & Usage
<span><a href=#installation--usage><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><p>Check the <code>requirements.txt</code>, for the Python Requirements and install them via <code>pip install -r requirements.txt</code>. The tests are done under Python3.10 however I believe everything should work with Python>=3.6.</p><h3 id=set-the-bait>Set the bait
<span><a href=#set-the-bait><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>Before using the bot, you need to supply it with an image of the bait. The image has to be on the bottom parts of the bait. Here is an example image, the green area indicates what would be a good image of the bait, it needs to be as small as possible.</p><p><img src=/fishing-bot/bait_example.png alt="Bait Example"></p><p>Save the image and place it at the root of the script as <code>bait.png</code>, additionally you can adjust the variable <code>BAIT_IMAGE</code> in the `fishingbot.py.</p><blockquote><p>⚠️ It is important for you to take the photo because of the graphical/display settings which can be different for each computer.</p></blockquote><h3 id=fine-tune-the-script>Fine-tune the script
<span><a href=#fine-tune-the-script><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h3><p>The fine tunning that you have to do consists of:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>FISHING_BUTTON <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;b&#34;</span>
</span></span><span style=display:flex><span>TUNE_BAIT_MOUSE_UNDER_PX <span style=color:#f92672>=</span> <span style=color:#ae81ff>35</span>
</span></span><span style=display:flex><span>EDGE_RESET <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>
</span></span><span style=display:flex><span>ACTIVE_AFTER <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>CONFIDENCE <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.7</span>
</span></span></code></pre></div><table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td>FISHING_BUTTON</td><td>The button that you use for fishing, in my case it was <code>b</code></td></tr><tr><td>TUNE_BAIT_MOUSE_UNDER_PX</td><td>The offset pixels where the mouse is going to be whenever there is a bait, see the <a href=#how-it-works>How it works?</a> section</td></tr><tr><td>EDGE_RESET</td><td>Those are the <code>x, y</code> coordinates to reset the mouse after catching the fish, it is used to improve the success rate, leave it at <code>10, 10</code></td></tr><tr><td>ACTIVE_AFTER</td><td>The bot simply waits 2 secs before it starts</td></tr><tr><td>CONFIDENCE</td><td>The confidence of the template matching</td></tr></tbody></table><h2 id=how-it-works>How it works?
<span><a href=#how-it-works><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><p>The method is extremely simple, it utilizes two things. The first one is the <a href=https://docs.opencv.org/4.x/d4/dc6/tutorial_py_template_matching.html>Template Matching</a>, this is what <code>pyautogui.locateOnScreen</code> uses under the hood and the second one is the <a href=https://github.com/mhammond/pywin32/blob/c08c3d9e4a503b195c312b0fbd51454bd2ee665a/win32/src/win32gui.i#L2486>PyGetCursorInfo</a> function which is exposed by the <code>win32gui</code> lib.</p><p>The solution lies in the gif from the beginning, whenever the bobber actually catches a fish the AoE (Area of Effect) for the bobber becomes bigger allowing us to detect a change on the cursor, then we use the <code>GetCursorInfo</code> to catch the change of the cursor and if it becomes a different <code>tuple</code> from the default one which we set when there is nothing active on our cursor. Then we execute the click.</p><p>Now about the fine-tuning, look at this example</p><p><img src=/fishing-bot/diagram_bobber.png alt=Abstract></p><p>The <code>TUNE_BAIT_MOUSE_UNDER_PX</code> variable which doesn&rsquo;t have the best name ever is indicated with red, in simple terms it is how many pixels under the located bobber to place the mouse. For myself the range between 28-32 works the best, but as I said earlier this could differ.</p><h2 id=edge-cases>Edge cases
<span><a href=#edge-cases><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><p>There is a rare edge case when the default tuple for the cursor doesn&rsquo;t change which happens if the script isn&rsquo;t tune right, I&rsquo;ve solved this by resetting the cursor at <code>x=10, y=10</code> position of the screen and then bringing it back. In a case when the cursor&rsquo;s icon doesn&rsquo;t change and if it sits with the bait icon the bot would just wait the duration of the fishing and reset itself.</p><h2 id=additional-features>Additional features
<span><a href=#additional-features><svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/></svg></a></span></h2><p>I&rsquo;ve added a bit of randomness in the timings between each press of the fishing and the click of the bobber with additionally pressing space every now and then. Apparently the server can detect that something fishy is going on when this randomness is removed.</p></div><div class=post-info><div class="post-date dt-published">2022-05-22</div><a class="post-hidden-url u-url" href=http://sy1.sh/posts/simple-fishing-bot/>http://sy1.sh/posts/simple-fishing-bot/</a>
<a href=http://sy1.sh/ class="p-name p-author post-hidden-author h-card" rel=me>Dimitar Ganev</a><div class=post-taxonomies></div></div></article><div class="pagination post-pagination"><div class="left pagination-item"><a href=/posts/create-plugin-architecture-with-python/>Create Plugin Architecture With Python</a></div><div class="right pagination-item"><a href=/posts/stix-taxii-complete-knowledge/>STIX/TAXII - Complete Knowledge</a></div></div></main><footer class=common-footer><div class=common-footer-bottom><div class=copyright><p>© Dimitar Ganev, 2022<br>Powered by <a target=_blank rel="noopener noreferrer" href=https://gohugo.io/>Hugo</a>, theme <a target=_blank rel="noopener noreferrer" href=https://github.com/mitrichius/hugo-theme-anubis>Anubis</a>.<br></p></div><script>const STORAGE_KEY="user-color-scheme",defaultTheme="dark-without-switcher";let currentTheme,switchButton,autoDefinedScheme=window.matchMedia("(prefers-color-scheme: dark)");const autoChangeScheme=e=>{currentTheme=e.matches?"dark":"light",document.documentElement.setAttribute("data-theme",currentTheme),changeButtonText()};document.addEventListener("DOMContentLoaded",function(){switchButton=document.querySelector(".theme-switcher"),currentTheme=detectCurrentScheme(),currentTheme=="dark"&&document.documentElement.setAttribute("data-theme","dark"),currentTheme=="auto"&&(autoChangeScheme(autoDefinedScheme),autoDefinedScheme.addListener(autoChangeScheme)),switchButton&&(changeButtonText(),switchButton.addEventListener("click",switchTheme,!1)),showContent()});function detectCurrentScheme(){return localStorage.getItem(STORAGE_KEY)?localStorage.getItem(STORAGE_KEY):defaultTheme?defaultTheme:window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"light"}function changeButtonText(){switchButton&&(switchButton.textContent=currentTheme=="dark"?"Light theme":"Dark theme")}function switchTheme(){currentTheme=="dark"?(localStorage.setItem(STORAGE_KEY,"light"),document.documentElement.setAttribute("data-theme","light"),currentTheme="light"):(localStorage.setItem(STORAGE_KEY,"dark"),document.documentElement.setAttribute("data-theme","dark"),currentTheme="dark"),changeButtonText()}function showContent(){document.body.style.visibility="visible",document.body.style.opacity=1}</script></div><p class="h-card vcard"><a href=http://sy1.sh/ class="p-name u-url url fn" rel=me>Dimitar Ganev</a>
/
<a class="p-email u-email email" rel=me href=mailto:dganev@pm.me>dganev@pm.me</a></p></footer></div></body></html>