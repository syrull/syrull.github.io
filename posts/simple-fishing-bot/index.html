<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Simple Fishing Bot for World of Warcraft | 0x73796C31</title>
<meta name=keywords content><meta name=description content="This fishing bot consists only of about 50 lines of code, it incorporates the mechanics of World of Warcraft and some simple Windows API Calls.
Repository: https://github.com/syrull/simple-fishing-bot
Overview The bot has about ~99% success rate, there are some extremely rare cases where the bot won&rsquo;t catch it and I will explain why later. The method that the bot is using, should work in almost any fishing scenario in the game, I would personally avoid crowded places."><meta name=author content="Dimitar Ganev"><link rel=canonical href=https://sy1.sh/posts/simple-fishing-bot/><link crossorigin=anonymous href=/assets/css/stylesheet.f8c2ee4fde28779dff9afcd3046f6bd6fc9cbeb1ddf60d48a81b676d7162c1bb.css integrity="sha256-+MLuT94od53/mvzTBG9r1vycvrHd9g1IqBtnbXFiwbs=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://sy1.sh/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://sy1.sh/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://sy1.sh/favicon-32x32.png><link rel=apple-touch-icon href=https://sy1.sh/apple-touch-icon.png><link rel=mask-icon href=https://sy1.sh/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Simple Fishing Bot for World of Warcraft"><meta property="og:description" content="This fishing bot consists only of about 50 lines of code, it incorporates the mechanics of World of Warcraft and some simple Windows API Calls.
Repository: https://github.com/syrull/simple-fishing-bot
Overview The bot has about ~99% success rate, there are some extremely rare cases where the bot won&rsquo;t catch it and I will explain why later. The method that the bot is using, should work in almost any fishing scenario in the game, I would personally avoid crowded places."><meta property="og:type" content="article"><meta property="og:url" content="https://sy1.sh/posts/simple-fishing-bot/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-22T21:37:03+03:00"><meta property="article:modified_time" content="2022-05-22T21:37:03+03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Simple Fishing Bot for World of Warcraft"><meta name=twitter:description content="This fishing bot consists only of about 50 lines of code, it incorporates the mechanics of World of Warcraft and some simple Windows API Calls.
Repository: https://github.com/syrull/simple-fishing-bot
Overview The bot has about ~99% success rate, there are some extremely rare cases where the bot won&rsquo;t catch it and I will explain why later. The method that the bot is using, should work in almost any fishing scenario in the game, I would personally avoid crowded places."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://sy1.sh/posts/"},{"@type":"ListItem","position":3,"name":"Simple Fishing Bot for World of Warcraft","item":"https://sy1.sh/posts/simple-fishing-bot/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Simple Fishing Bot for World of Warcraft","name":"Simple Fishing Bot for World of Warcraft","description":"This fishing bot consists only of about 50 lines of code, it incorporates the mechanics of World of Warcraft and some simple Windows API Calls.\nRepository: https://github.com/syrull/simple-fishing-bot\nOverview The bot has about ~99% success rate, there are some extremely rare cases where the bot won\u0026rsquo;t catch it and I will explain why later. The method that the bot is using, should work in almost any fishing scenario in the game, I would personally avoid crowded places.","keywords":[],"articleBody":"This fishing bot consists only of about 50 lines of code, it incorporates the mechanics of World of Warcraft and some simple Windows API Calls.\nRepository: https://github.com/syrull/simple-fishing-bot\nOverview The bot has about ~99% success rate, there are some extremely rare cases where the bot won’t catch it and I will explain why later. The method that the bot is using, should work in almost any fishing scenario in the game, I would personally avoid crowded places. The testing has been done in the current expansion (Shadowlands).\nThe bot is running on the currently Active Window, I haven’t performed checks wether this is the window of the game or not. It waits for about 2 seconds before it starts.\nMetrics Zereth Mortis: 29m 33s Items Looted: 161 That means that we loot roughly about ~5.4 fish per minute.\nInstallation \u0026 Usage Check the requirements.txt, for the Python Requirements and install them via pip install -r requirements.txt. The tests are done under Python3.10 however I believe everything should work with Python\u003e=3.6.\nSet the bait Before using the bot, you need to supply it with an image of the bait. The image has to be on the bottom parts of the bait. Here is an example image, the green area indicates what would be a good image of the bait, it needs to be as small as possible.\nSave the image and place it at the root of the script as bait.png, additionally you can adjust the variable BAIT_IMAGE in the `fishingbot.py.\n⚠️ It is important for you to take the photo because of the graphical/display settings which can be different for each computer.\nFine-tune the script The fine tunning that you have to do consists of:\nFISHING_BUTTON = \"b\" TUNE_BAIT_MOUSE_UNDER_PX = 35 EDGE_RESET = 10, 10 ACTIVE_AFTER = 2 CONFIDENCE = 0.7 Variable Description FISHING_BUTTON The button that you use for fishing, in my case it was b TUNE_BAIT_MOUSE_UNDER_PX The offset pixels where the mouse is going to be whenever there is a bait, see the How it works? section EDGE_RESET Those are the x, y coordinates to reset the mouse after catching the fish, it is used to improve the success rate, leave it at 10, 10 ACTIVE_AFTER The bot simply waits 2 secs before it starts CONFIDENCE The confidence of the template matching How it works? The method is extremely simple, it utilizes two things. The first one is the Template Matching, this is what pyautogui.locateOnScreen uses under the hood and the second one is the PyGetCursorInfo function which is exposed by the win32gui lib.\nThe solution lies in the gif from the beginning, whenever the bobber actually catches a fish the AoE (Area of Effect) for the bobber becomes bigger allowing us to detect a change on the cursor, then we use the GetCursorInfo to catch the change of the cursor and if it becomes a different tuple from the default one which we set when there is nothing active on our cursor. Then we execute the click.\nNow about the fine-tuning, look at this example\nThe TUNE_BAIT_MOUSE_UNDER_PX variable which doesn’t have the best name ever is indicated with red, in simple terms it is how many pixels under the located bobber to place the mouse. For myself the range between 28-32 works the best, but as I said earlier this could differ.\nEdge cases There is a rare edge case when the default tuple for the cursor doesn’t change which happens if the script isn’t tune right, I’ve solved this by resetting the cursor at x=10, y=10 position of the screen and then bringing it back. In a case when the cursor’s icon doesn’t change and if it sits with the bait icon the bot would just wait the duration of the fishing and reset itself.\nAdditional features I’ve added a bit of randomness in the timings between each press of the fishing and the click of the bobber with additionally pressing space every now and then. Apparently the server can detect that something fishy is going on when this randomness is removed.\n","wordCount":"675","inLanguage":"en","datePublished":"2022-05-22T21:37:03+03:00","dateModified":"2022-05-22T21:37:03+03:00","author":{"@type":"Person","name":"Dimitar Ganev"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://sy1.sh/posts/simple-fishing-bot/"},"publisher":{"@type":"Organization","name":"0x73796C31","logo":{"@type":"ImageObject","url":"https://sy1.sh/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://sy1.sh accesskey=h title="0x73796C31 (Alt + H)">0x73796C31</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://sy1.sh/posts/ title=Archive><span>Archive</span></a></li><li><a href=https://sy1.sh/cv title=CV><span>About</span></a></li><li><a href=https://sy1.sh/writeups/ title=Write-ups><span>Write-ups</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://sy1.sh>Home</a>&nbsp;»&nbsp;<a href=https://sy1.sh/posts/>Posts</a></div><h1 class=post-title>Simple Fishing Bot for World of Warcraft</h1><div class=post-meta>&lt;span title='2022-05-22 21:37:03 +0300 +0300'>May 22, 2022&lt;/span>&amp;nbsp;·&amp;nbsp;4 min</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#overview aria-label=Overview>Overview</a><ul><li><a href=#metrics aria-label=Metrics>Metrics</a></li></ul></li><li><a href=#installation--usage aria-label="Installation &amp;amp; Usage">Installation & Usage</a><ul><li><a href=#set-the-bait aria-label="Set the bait">Set the bait</a></li><li><a href=#fine-tune-the-script aria-label="Fine-tune the script">Fine-tune the script</a></li></ul></li><li><a href=#how-it-works aria-label="How it works?">How it works?</a></li><li><a href=#edge-cases aria-label="Edge cases">Edge cases</a></li><li><a href=#additional-features aria-label="Additional features">Additional features</a></li></ul></div></details></div><div class=post-content><p>This fishing bot consists only of about 50 lines of code, it incorporates the mechanics of World of Warcraft and some simple Windows API Calls.</p><p><img loading=lazy src=/fishing-bot/fishing.gif alt="Fishing Bot in action"></p><p>Repository: <a href=https://github.com/syrull/simple-fishing-bot>https://github.com/syrull/simple-fishing-bot</a></p><h2 id=overview>Overview<a hidden class=anchor aria-hidden=true href=#overview>#</a></h2><p>The bot has about ~99% success rate, there are some extremely rare cases where the bot won&rsquo;t catch it and I will explain why later. The method that the bot is using, should
work in almost any fishing scenario in the game, I would personally avoid crowded places. The testing has been done in the current expansion (Shadowlands).</p><p>The bot is running on the currently Active Window, I haven&rsquo;t performed checks wether this is the window of the game or not. It waits for about 2 seconds before it starts.</p><h3 id=metrics>Metrics<a hidden class=anchor aria-hidden=true href=#metrics>#</a></h3><pre tabindex=0><code>Zereth Mortis: 29m 33s
Items Looted: 161
</code></pre><p>That means that we loot roughly about ~5.4 fish per minute.</p><h2 id=installation--usage>Installation & Usage<a hidden class=anchor aria-hidden=true href=#installation--usage>#</a></h2><p>Check the <code>requirements.txt</code>, for the Python Requirements and install them via <code>pip install -r requirements.txt</code>. The tests are done under Python3.10 however I believe everything should work with Python>=3.6.</p><h3 id=set-the-bait>Set the bait<a hidden class=anchor aria-hidden=true href=#set-the-bait>#</a></h3><p>Before using the bot, you need to supply it with an image of the bait. The image has to be on the bottom parts of the bait. Here is an example image, the green area indicates what would be a good image of the bait, it needs to be as small as possible.</p><p><img loading=lazy src=/fishing-bot/bait_example.png alt="Bait Example"></p><p>Save the image and place it at the root of the script as <code>bait.png</code>, additionally you can adjust the variable <code>BAIT_IMAGE</code> in the `fishingbot.py.</p><blockquote><p>⚠️ It is important for you to take the photo because of the graphical/display settings which can be different for each computer.</p></blockquote><h3 id=fine-tune-the-script>Fine-tune the script<a hidden class=anchor aria-hidden=true href=#fine-tune-the-script>#</a></h3><p>The fine tunning that you have to do consists of:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>FISHING_BUTTON</span> <span class=o>=</span> <span class=s2>&#34;b&#34;</span>
</span></span><span class=line><span class=cl><span class=n>TUNE_BAIT_MOUSE_UNDER_PX</span> <span class=o>=</span> <span class=mi>35</span>
</span></span><span class=line><span class=cl><span class=n>EDGE_RESET</span> <span class=o>=</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=n>ACTIVE_AFTER</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=n>CONFIDENCE</span> <span class=o>=</span> <span class=mf>0.7</span>
</span></span></code></pre></div><table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td>FISHING_BUTTON</td><td>The button that you use for fishing, in my case it was <code>b</code></td></tr><tr><td>TUNE_BAIT_MOUSE_UNDER_PX</td><td>The offset pixels where the mouse is going to be whenever there is a bait, see the <a href=#how-it-works>How it works?</a> section</td></tr><tr><td>EDGE_RESET</td><td>Those are the <code>x, y</code> coordinates to reset the mouse after catching the fish, it is used to improve the success rate, leave it at <code>10, 10</code></td></tr><tr><td>ACTIVE_AFTER</td><td>The bot simply waits 2 secs before it starts</td></tr><tr><td>CONFIDENCE</td><td>The confidence of the template matching</td></tr></tbody></table><h2 id=how-it-works>How it works?<a hidden class=anchor aria-hidden=true href=#how-it-works>#</a></h2><p>The method is extremely simple, it utilizes two things. The first one is the <a href=https://docs.opencv.org/4.x/d4/dc6/tutorial_py_template_matching.html>Template Matching</a>, this is what <code>pyautogui.locateOnScreen</code> uses under the hood and the second one is the <a href=https://github.com/mhammond/pywin32/blob/c08c3d9e4a503b195c312b0fbd51454bd2ee665a/win32/src/win32gui.i#L2486>PyGetCursorInfo</a> function which is exposed by the <code>win32gui</code> lib.</p><p>The solution lies in the gif from the beginning, whenever the bobber actually catches a fish the AoE (Area of Effect) for the bobber becomes bigger allowing us to detect a change on the cursor, then we use the <code>GetCursorInfo</code> to catch the change of the cursor and if it becomes a different <code>tuple</code> from the default one which we set when there is nothing active on our cursor. Then we execute the click.</p><p>Now about the fine-tuning, look at this example</p><p><img loading=lazy src=/fishing-bot/diagram_bobber.png alt=Abstract></p><p>The <code>TUNE_BAIT_MOUSE_UNDER_PX</code> variable which doesn&rsquo;t have the best name ever is indicated with red, in simple terms it is how many pixels under the located bobber to place the mouse. For myself the range between 28-32 works the best, but as I said earlier this could differ.</p><h2 id=edge-cases>Edge cases<a hidden class=anchor aria-hidden=true href=#edge-cases>#</a></h2><p>There is a rare edge case when the default tuple for the cursor doesn&rsquo;t change which happens if the script isn&rsquo;t tune right, I&rsquo;ve solved this by resetting the cursor at <code>x=10, y=10</code> position of the screen and then bringing it back. In a case when the cursor&rsquo;s icon doesn&rsquo;t change and if it sits with the bait icon the bot would just wait the duration of the fishing and reset itself.</p><h2 id=additional-features>Additional features<a hidden class=anchor aria-hidden=true href=#additional-features>#</a></h2><p>I&rsquo;ve added a bit of randomness in the timings between each press of the fishing and the click of the bobber with additionally pressing space every now and then. Apparently the server can detect that something fishy is going on when this randomness is removed.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://sy1.sh>0x73796C31</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod (sy1 modified)</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>